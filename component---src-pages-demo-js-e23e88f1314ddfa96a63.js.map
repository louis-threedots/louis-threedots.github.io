{"version":3,"sources":["webpack:///./src/utils/classNames.js","webpack:///./src/components/loadingModal.js","webpack:///./src/demo/usePyodide.js","webpack:///./src/demo/index.js","webpack:///./src/pages/demo.js"],"names":["classNames","classes","filter","Boolean","join","LoadingModal","loading","useState","open","setOpen","useEffect","setTimeout","className","show","enter","enterFrom","enterTo","leave","leaveFrom","leaveTo","fill","viewBox","fillRule","d","clipRule","stroke","strokeLinecap","strokeLinejoin","strokeWidth","usePyodide","callback","pyodide","setPyodide","setLoading","script","document","createElement","innerHTML","body","appendChild","window","pyodideWorker","onmessage","event","results","data","postMessage","method","removeChild","runPython","code","loadPackages","packages","getPythonGlobal","name","attachGlobal","Demo","setContent","content","type","title"],"mappings":"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","file":"component---src-pages-demo-js-e23e88f1314ddfa96a63.js","sourcesContent":["export default function classNames(...classes) {\n  return classes.filter(Boolean).join(\" \")\n}\n","import React, { useEffect, useState } from \"react\"\nimport classNames from \"../utils/classNames\"\nimport Transition from \"./transition\"\n\nconst MODAL_DISMISS_TIMEOUT = 1600\n\nexport const LoadingModal = ({ loading }) => {\n  const [open, setOpen] = useState(true)\n\n  useEffect(() => {\n    if (!loading) setTimeout(setOpen, MODAL_DISMISS_TIMEOUT, false)\n  }, [loading])\n\n  return (\n    <div\n      className={classNames(\n        \"fixed bottom-0 inset-x-0 px-4 pb-6 sm:inset-0 sm:p-0 sm:flex sm:items-center sm:justify-center\",\n        !open && \"pointer-events-none\"\n      )}\n    >\n      <Transition\n        show={open}\n        enter=\"ease-out duration-300\"\n        enterFrom=\"opacity-0\"\n        enterTo=\"opacity-100\"\n        leave=\"ease-in duration-200\"\n        leaveFrom=\"opacity-100\"\n        leaveTo=\"opacity-0\"\n      >\n        <div className=\"fixed inset-0 transition-opacity\">\n          <div className=\"absolute inset-0 bg-gray-500 opacity-75\"></div>\n        </div>\n      </Transition>\n\n      <Transition\n        show={open}\n        enter=\"ease-out duration-300\"\n        enterFrom=\"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95\"\n        enterTo=\"opacity-100 translate-y-0 sm:scale-100\"\n        leave=\"ease-in duration-200\"\n        leaveFrom=\"opacity-100 translate-y-0 sm:scale-100\"\n        leaveTo=\"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95\"\n      >\n        <div className=\"bg-white rounded-lg px-4 pt-5 pb-4 overflow-hidden shadow-xl transform transition-all sm:max-w-sm sm:w-full sm:p-6\">\n          <div>\n            <div\n              className={classNames(\n                \"mx-auto flex items-center justify-center h-12 w-12 rounded-full\",\n                loading ? \"bg-orange-100\" : \"bg-green-100\"\n              )}\n            >\n              {loading ? (\n                <svg\n                  fill=\"currentColor\"\n                  className=\"h-6 w-6 text-orange-600\"\n                  viewBox=\"0 0 20 20\"\n                >\n                  <path\n                    fillRule=\"evenodd\"\n                    d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z\"\n                    clipRule=\"evenodd\"\n                  ></path>\n                </svg>\n              ) : (\n                <svg\n                  className=\"h-6 w-6 text-green-600\"\n                  stroke=\"currentColor\"\n                  fill=\"none\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    strokeWidth=\"2\"\n                    d=\"M5 13l4 4L19 7\"\n                  />\n                </svg>\n              )}\n            </div>\n            <div className=\"mt-3 text-center sm:mt-5\">\n              <h3 className=\"text-lg leading-6 font-medium text-gray-900\">\n                {loading ? \"Loading...\" : \"Complete!\"}\n              </h3>\n            </div>\n          </div>\n        </div>\n      </Transition>\n    </div>\n  )\n}\n\nexport default LoadingModal\n","import { useEffect, useState } from \"react\"\n\nconst usePyodide = callback => {\n  const [pyodide, setPyodide] = useState()\n  const [loading, setLoading] = useState(true)\n\n  useEffect(() => {\n    const script = document.createElement(\"script\")\n    script.innerHTML = `self.pyodideWorker = new Worker('/pyodideWorker.js')`\n    document.body.appendChild(script)\n\n    window.pyodideWorker.onmessage = event => {\n      const results = event.data\n      if (loading) setLoading(false)\n      callback(results)\n    }\n\n    window.pyodideWorker.postMessage({\n      method: \"runPython\",\n      data: \"True\",\n    })\n\n    setPyodide(window.pyodideWorker)\n\n    return () => {\n      document.body.removeChild(script)\n    }\n  }, [])\n\n  const runPython = code => {\n    if (pyodide)\n      pyodide.postMessage({\n        method: \"runPython\",\n        data: code,\n      })\n  }\n\n  const loadPackages = packages => {\n    if (pyodide)\n      pyodide.postMessage({\n        method: \"loadPackages\",\n        data: packages,\n      })\n  }\n\n  const getPythonGlobal = name => {\n    if (pyodide)\n      pyodide.postMessage({\n        method: \"pyimport\",\n        data: name,\n      })\n  }\n\n  const attachGlobal = data => {\n    if (pyodide)\n      pyodide.postMessage({\n        method: \"attachGlobal\",\n        data,\n      })\n  }\n\n  return {\n    loading,\n    pyodide,\n    runPython,\n    loadPackages,\n    getPythonGlobal,\n    attachGlobal,\n  }\n}\n\nexport default usePyodide\n","import React, { useEffect, useState } from \"react\"\nimport LoadingModal from \"../components/loadingModal\"\nimport usePyodide from \"./usePyodide\"\n\nconst Demo = () => {\n  const callback = results => {\n    setContent(results)\n  }\n\n  const { loading, attachGlobal, runPython } = usePyodide(callback)\n  const [content, setContent] = useState(\"Loading...\")\n\n  useEffect(() => {\n    if (!loading) {\n      attachGlobal({})\n      runPython(`from js import demo`)\n      runPython(`exec(demo)`)\n      runPython('\"Hello, world!\"')\n    }\n  }, [loading])\n\n  return (\n    <>\n      <div className=\"bg-gray-900 pb-32\">\n        <div className=\"py-10\">\n          <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n            <h1 className=\"text-3xl leading-9 font-bold text-white\">\n              <span className=\"font-louis\">louis</span> Demo\n            </h1>\n          </div>\n        </div>\n      </div>\n      <div className=\"-mt-32\">\n        <div className=\"max-w-7xl mx-auto pb-12 px-4 sm:px-6 lg:px-8\">\n          <div className=\"bg-white rounded-lg shadow\">\n            <div className=\"py-5 border-b border-gray-200 px-4 sm:px-6\">\n              <div className=\"-ml-4 -mt-2 flex items-center justify-between flex-wrap sm:flex-no-wrap\">\n                <div className=\"ml-4 mt-2\">\n                  <h3 className=\"text-lg leading-6 font-medium text-gray-900\">\n                    Cells (3)\n                  </h3>\n                </div>\n                <div className=\"ml-4 mt-2 flex-shrink-0\">\n                  <span className=\"inline-flex rounded-md shadow-sm\">\n                    <button\n                      type=\"button\"\n                      className=\"relative inline-flex items-center px-4 py-2 border border-transparent text-sm leading-5 font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-500 focus:outline-none focus:shadow-outline-indigo focus:border-indigo-700 active:bg-indigo-700\"\n                    >\n                      Add cell\n                    </button>\n                  </span>\n                </div>\n              </div>\n            </div>\n            <div>\n              Content from Python: <br />\n              {content}\n            </div>\n            <div className=\"spinner w-32 h-32\"></div>\n          </div>\n        </div>\n      </div>\n      <LoadingModal loading={loading} />\n    </>\n  )\n}\n\nexport default Demo\n","import React from \"react\"\nimport SEO from \"../components/seo\"\nimport DemoApp from \"../demo\"\n\nconst Demo = () => {\n  return (\n    <>\n      <SEO title=\"Interactive Demo\" />\n      <DemoApp />\n    </>\n  )\n}\n\nexport default Demo\n"],"sourceRoot":""}