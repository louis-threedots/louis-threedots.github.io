{"version":3,"sources":["webpack:///./node_modules/workerize-loader/dist/rpc-wrapper.js","webpack:///./src/demo/pyodide/pyodide.worker.js","webpack:///./src/utils/classNames.js","webpack:///./src/components/loadingModal.js","webpack:///./src/demo/pyodide/usePyodide.js","webpack:///./src/demo/index.js","webpack:///./src/pages/demo.js"],"names":["module","exports","worker","methods","c","callbacks","addEventListener","e","d","data","type","id","f","error","Object","assign","Error","message","result","evt","document","createEvent","initEvent","method","params","dispatchEvent","forEach","len","arguments","length","Promise","a","b","postMessage","addMethods","require","w","Worker","__webpack_public_path__","name","classNames","classes","filter","Boolean","join","LoadingModal","loading","useState","open","setOpen","useEffect","setTimeout","className","show","enter","enterFrom","enterTo","leave","leaveFrom","leaveTo","fill","viewBox","fillRule","clipRule","stroke","strokeLinecap","strokeLinejoin","strokeWidth","usePyodide","callback","setLoading","pyodide","onmessage","event","results","runPython","code","loadPackages","packages","getPythonGlobal","attachGlobal","Demo","setContent","content","title"],"mappings":"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","file":"component---src-pages-demo-js-e2440f16b39f04dbb029.js","sourcesContent":["require(\"core-js/modules/es6.promise\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/es6.object.assign\");\n\nfunction addMethods(worker, methods) {\n  var c = 0;\n  var callbacks = {};\n  worker.addEventListener('message', function (e) {\n    var d = e.data;\n\n    if (d.type !== 'RPC') {\n      return;\n    }\n\n    if (d.id) {\n      var f = callbacks[d.id];\n\n      if (f) {\n        delete callbacks[d.id];\n\n        if (d.error) {\n          f[1](Object.assign(Error(d.error.message), d.error));\n        } else {\n          f[0](d.result);\n        }\n      }\n    } else {\n      var evt = document.createEvent('Event');\n      evt.initEvent(d.method, false, false);\n      evt.data = d.params;\n      worker.dispatchEvent(evt);\n    }\n  });\n  methods.forEach(function (method) {\n    worker[method] = function () {\n      var params = [],\n          len = arguments.length;\n\n      while (len--) {\n        params[len] = arguments[len];\n      }\n\n      return new Promise(function (a, b) {\n        var id = ++c;\n        callbacks[id] = [a, b];\n        worker.postMessage({\n          type: 'RPC',\n          id: id,\n          method: method,\n          params: params\n        });\n      });\n    };\n  });\n}\n\nmodule.exports = addMethods;","\n\t\t\t\tvar addMethods = require(\"../../../node_modules/workerize-loader/dist/rpc-wrapper.js\")\n\t\t\t\tvar methods = [\"onmessage\"]\n\t\t\t\tmodule.exports = function() {\n\t\t\t\t\tvar w = new Worker(__webpack_public_path__ + \"903527e46362fb00dbca.worker.js\", { name: \"[hash].worker.js\" })\n\t\t\t\t\taddMethods(w, methods)\n\t\t\t\t\t\n\t\t\t\t\treturn w\n\t\t\t\t}\n\t\t\t","export default function classNames(...classes) {\n  return classes.filter(Boolean).join(\" \")\n}\n","import React, { useEffect, useState } from \"react\"\nimport classNames from \"../utils/classNames\"\nimport Transition from \"./transition\"\n\nconst MODAL_DISMISS_TIMEOUT = 1600\n\nexport const LoadingModal = ({ loading }) => {\n  const [open, setOpen] = useState(true)\n\n  useEffect(() => {\n    if (!loading) setTimeout(setOpen, MODAL_DISMISS_TIMEOUT, false)\n  }, [loading])\n\n  return (\n    <div\n      className={classNames(\n        \"fixed bottom-0 inset-x-0 px-4 pb-6 sm:inset-0 sm:p-0 sm:flex sm:items-center sm:justify-center\",\n        !open && \"pointer-events-none\"\n      )}\n    >\n      <Transition\n        show={open}\n        enter=\"ease-out duration-300\"\n        enterFrom=\"opacity-0\"\n        enterTo=\"opacity-100\"\n        leave=\"ease-in duration-200\"\n        leaveFrom=\"opacity-100\"\n        leaveTo=\"opacity-0\"\n      >\n        <div className=\"fixed inset-0 transition-opacity\">\n          <div className=\"absolute inset-0 bg-gray-500 opacity-75\"></div>\n        </div>\n      </Transition>\n\n      <Transition\n        show={open}\n        enter=\"ease-out duration-300\"\n        enterFrom=\"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95\"\n        enterTo=\"opacity-100 translate-y-0 sm:scale-100\"\n        leave=\"ease-in duration-200\"\n        leaveFrom=\"opacity-100 translate-y-0 sm:scale-100\"\n        leaveTo=\"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95\"\n      >\n        <div className=\"bg-white rounded-lg px-4 pt-5 pb-4 overflow-hidden shadow-xl transform transition-all sm:max-w-sm sm:w-full sm:p-6\">\n          <div>\n            <div\n              className={classNames(\n                \"mx-auto flex items-center justify-center h-12 w-12 rounded-full\",\n                loading ? \"bg-orange-100\" : \"bg-green-100\"\n              )}\n            >\n              {loading ? (\n                <svg\n                  fill=\"currentColor\"\n                  className=\"h-6 w-6 text-orange-600\"\n                  viewBox=\"0 0 20 20\"\n                >\n                  <path\n                    fillRule=\"evenodd\"\n                    d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z\"\n                    clipRule=\"evenodd\"\n                  ></path>\n                </svg>\n              ) : (\n                <svg\n                  className=\"h-6 w-6 text-green-600\"\n                  stroke=\"currentColor\"\n                  fill=\"none\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    strokeWidth=\"2\"\n                    d=\"M5 13l4 4L19 7\"\n                  />\n                </svg>\n              )}\n            </div>\n            <div className=\"mt-3 text-center sm:mt-5\">\n              <h3 className=\"text-lg leading-6 font-medium text-gray-900\">\n                {loading ? \"Loading...\" : \"Complete!\"}\n              </h3>\n            </div>\n          </div>\n        </div>\n      </Transition>\n    </div>\n  )\n}\n\nexport default LoadingModal\n","import { useState } from \"react\"\nimport pyodide from \"./pyodide.worker\"\n\nconst usePyodide = callback => {\n  const [loading, setLoading] = useState(true)\n\n  pyodide.onmessage = event => {\n    const results = event.data\n    if (loading) setLoading(false)\n    callback(results)\n  }\n\n  const runPython = code =>\n    pyodide.postMessage({\n      method: \"runPython\",\n      data: code,\n    })\n\n  const loadPackages = packages =>\n    pyodide.postMessage({\n      method: \"loadPackages\",\n      data: packages,\n    })\n\n  const getPythonGlobal = name =>\n    pyodide.postMessage({\n      method: \"pyimport\",\n      data: name,\n    })\n\n  const attachGlobal = data =>\n    pyodide.postMessage({\n      method: \"attachGlobal\",\n      data,\n    })\n\n  return {\n    loading,\n    pyodide,\n    runPython,\n    loadPackages,\n    getPythonGlobal,\n    attachGlobal,\n  }\n}\n\nexport default usePyodide\n","import React, { useEffect, useState } from \"react\"\nimport LoadingModal from \"../components/loadingModal\"\nimport usePyodide from \"./pyodide/usePyodide\"\n\nconst Demo = () => {\n  const callback = results => {\n    setContent(results)\n  }\n\n  const { loading, runPython, attachGlobal } = usePyodide(callback)\n  const [content, setContent] = useState(\"Loading...\")\n\n  useEffect(() => {\n    attachGlobal({})\n    runPython(`from js import demo`)\n    runPython(`exec(demo)`)\n    runPython('\"Hello, world!\"')\n  }, [])\n\n  return (\n    <>\n      <div className=\"bg-gray-900 pb-32\">\n        <div className=\"py-10\">\n          <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n            <h1 className=\"text-3xl leading-9 font-bold text-white\">\n              <span className=\"font-louis\">louis</span> Demo\n            </h1>\n          </div>\n        </div>\n      </div>\n      <div className=\"-mt-32\">\n        <div className=\"max-w-7xl mx-auto pb-12 px-4 sm:px-6 lg:px-8\">\n          <div className=\"bg-white rounded-lg shadow\">\n            <div className=\"py-5 border-b border-gray-200 px-4 sm:px-6\">\n              <div className=\"-ml-4 -mt-2 flex items-center justify-between flex-wrap sm:flex-no-wrap\">\n                <div className=\"ml-4 mt-2\">\n                  <h3 className=\"text-lg leading-6 font-medium text-gray-900\">\n                    Cells (3)\n                  </h3>\n                </div>\n                <div className=\"ml-4 mt-2 flex-shrink-0\">\n                  <span className=\"inline-flex rounded-md shadow-sm\">\n                    <button\n                      type=\"button\"\n                      className=\"relative inline-flex items-center px-4 py-2 border border-transparent text-sm leading-5 font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-500 focus:outline-none focus:shadow-outline-indigo focus:border-indigo-700 active:bg-indigo-700\"\n                    >\n                      Add cell\n                    </button>\n                  </span>\n                </div>\n              </div>\n            </div>\n            <div>\n              Content from Python: <br />\n              {content}\n            </div>\n            <div className=\"spinner w-32 h-32\"></div>\n          </div>\n        </div>\n      </div>\n      <LoadingModal loading={loading} />\n    </>\n  )\n}\n\nexport default Demo\n","import React from \"react\"\nimport SEO from \"../components/seo\"\nimport DemoApp from \"../demo\"\n\nconst Demo = () => {\n  return (\n    <>\n      <SEO title=\"Interactive Demo\" />\n      <DemoApp />\n    </>\n  )\n}\n\nexport default Demo\n"],"sourceRoot":""}